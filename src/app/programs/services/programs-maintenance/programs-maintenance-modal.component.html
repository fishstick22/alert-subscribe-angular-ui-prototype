<form #programMaintenanceForm="ngForm" 
      (ngSubmit)="saveProgram()" >

  <div class="modal-header bg-gradient-dark">
    <h4 class="modal-title text-white">
      <span *ngIf="configType === 'edit'">
        Edit Program <small>{{program.name}} (ProgramId: {{program.id}}) profile</small></span>
    </h4>
    <button type="button" class="close text-white" aria-label="Close" (click)="maintainProgramModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    
  <div class="modal-body">
    <div class="form-row">
        <div class="form-group col-md-4">
          <label for="programName" class="text-white bg-gradient-dark flex-justify-left rounded">
            Program Name</label>
          <input type="text" class="form-control"
                 [(ngModel)]="program.name" id="programName" name="name" required
                  aria-describedby="programNameHelp" placeholder="Enter Program Name">
          <small id="programNameHelp" class="form-text text-muted">Short Name of the Program.</small>
        </div>
        <div class="form-group col-md-8">
          <label for="programDescription" class="text-white bg-gradient-dark flex-justify-left">
            Program Description</label>
          <input type="text" class="form-control" 
                 [(ngModel)]="program.description" id="programDescription" name="description" required
                 aria-describedby="programDescriptionlHelp" placeholder="Enter Program Description">
          <small id="programDescriptionlHelp" class="form-text text-muted">Brief Description of the Program.</small>
        </div>
      </div>
        
      <span *ngIf="program.programProfile">
        <div class="form-row" *ngFor="let profile of program.programProfile">

          <div class="form-group col-md-1">
            <label for="defaultOptIn" class="text-white bg-gradient-dark flex-justify-center">
              Opt In</label>
            <select class="form-control form-control-sm flex-justify-right"
                    [(ngModel)]="profile.defaultOptIn" id="defaultOptIn" name="defaultOptIn" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-1">
            <label for="visibleInUi" class="text-white bg-gradient-dark flex-justify-center">
              UI</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.visibleInUi" id="visibleInUi" name="visibleInUi" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>
  
          <div class="form-group col-md-1">
            <label for="chanEmail">Email</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.chanEmail" id="chanEmail" name="chanEmail" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-1">
            <label class="sr-only" for="chanIvr">IVR</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.chanIvr" id="chanIvr" name="chanIvr" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-1">
            <label for="chanSms">SMS</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.chanSms" id="chanSms" name="chanSms" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-1">
            <label for="chanSecure">Secure</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.chanSecure" id="chanSecure" name="chanSecure" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-1">
            <label for="chanMail">Mail</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.chanMail" id="chanMail" name="chanMail" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-1">
            <label for="chanMobile">Mobile</label>
            <select class="form-control form-control-sm"
                    [(ngModel)]="profile.chanMobile" id="chanMobile" name="chanMobile" required>
              <option value="true">Y</option>
              <option value="false">N</option>
            </select>
          </div>

          <div class="form-group col-md-2">
            <label for="effective">Effective</label>
            <!--
            <input type="text" class="form-control"
                    [(ngModel)]="profile.effective" id="effective" name="effective" required
                    aria-describedby="effectiveHelp" placeholder="Enter Effective Date">
            <small id="effectiveHelp" class="form-text text-muted">Effective Date</small>-->
            <app-date-picker-popup [dateValue]="profile.effective"
              (newDateValue)="updateDateValue($event, profile, 'effective')"></app-date-picker-popup>
              
          </div>

          <div class="form-group col-md-2">
            <label for="expiration">Expiration</label>
            <!--
            <input type="text" class="form-control"
                    [(ngModel)]="profile.expiration" id="expiration" name="expiration" required
                    aria-describedby="expirationHelp" placeholder="Enter Effective Date">
            <small id="expirationHelp" class="form-text text-muted">Expiration Date</small>-->
            <app-date-picker-popup [dateValue]="profile.expiration"
              (newDateValue)="updateDateValue($event, profile, 'expiration')"></app-date-picker-popup>
          </div>

        </div>
        <!--{{program.programProfile | json}}-->
      </span>

  </div>
    
  <div class="modal-footer">
    <div class="w-100">
      <span class="float-left">Some instructional content or condition message goes here: </span>
      <div class="float-right">
          <button type="submit" class="btn btn-outline-dark" [disabled]="!programMaintenanceForm.valid">Save</button>
          <button type="button" class="btn btn-outline-dark" (click)="maintainProgramModal.close('Close click')">Cancel</button>
      </div>
    </div>
  </div>

</form>      